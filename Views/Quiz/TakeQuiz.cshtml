@model List<Skill_Matrix.DTOs.QuizDto>
@{
    ViewData["Title"] = "Take Quiz";
    Layout = "~/Views/Shared/_Layout.cshtml";
    var skillId = ViewBag.SkillId;
    var skillName = ViewBag.SkillName;
}

<link rel="stylesheet" href="~/css/quiz.css" />


<section class="quiz-hero">
    <div class="container">
        <div class="quiz-icon">🎯</div>
        <div class="quiz-badge">Skill Assessment</div>
        <h2>Quiz on @skillName</h2>
        <p>Test your knowledge and showcase your expertise</p>
    </div>
</section>

<div class="container quiz-container">
    <div class="quiz-form">
        <div class="progress-text">
            <span id="currentQuestionText">Question 1 of @Model.Count</span>
        </div>
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill" style="width: 0%"></div>
        </div>
        
        <div class="question-status" id="questionStatus">
            @for (int i = 0; i < Model.Count; i++)
            {
                <div class="status-dot @(i == 0 ? "current" : "")" data-question="@i"></div>
            }
        </div>
        
        <form asp-action="SubmitQuiz" asp-controller="Quiz" asp-route-skillId=@skillId method="post" id="quizForm">
            <input type="hidden" name="skillId" value="@skillId" />
            
            @for (int i = 0; i < Model.Count; i++)
            {
                <div class="question-card @(i == 0 ? "active" : "")" data-question="@i">
                    <div class="question-header">
                        <div class="question-counter">Question @(i + 1) of @Model.Count</div>
                    </div>
                    
                    <div class="question-text">
                        <span class="question-number">@(i + 1)</span>
                        @Model[i].Question
                    </div>
                    
                    <div class="options-container">
                        @for (int j = 0; j < Model[i].Options.Count; j++)
                        {
                            <div class="option-item">
                                <label class="option-label">
                                    <input class="option-radio" type="radio" name="answers[@i]" value="@Model[i].Options[j]" required />
                                    @Model[i].Options[j]
                                </label>
                            </div>
                        }
                    </div>
                </div>
            }
            
            <div class="navigation-container">
                <button type="button" class="btn-nav" id="prevBtn" onclick="QuizNavigation.changeQuestion(-1)" disabled>
                    ← Previous
                </button>
                
                <button type="submit" class="btn-submit" id="submitBtn">
                    🚀 Submit Quiz
                </button>
                
                <button type="button" class="btn-nav" id="nextBtn" onclick="QuizNavigation.changeQuestion(1)">
                    Next →
                </button>
            </div>
        </form>
    </div>
</div>

<script src="~/js/quiz.js"></script>
